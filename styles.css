/* ===================================================================
   Bases & Theme
=================================================================== */
:root{
  --primary:#214d8c;
  --primary-dark:#153563;
  --accent:#f39c12;
  --success:#27ae60;
  --danger:#e74c3c;
  --text:#333;
  --text-light:#6c7a89;
  --bg:#f0f2f5;
  --card:#f7f9fc;
  --white:#fff;
  --border:#bdc3c7;
  --shadow:0 0 15px rgba(0,0,0,.08);
  --radius:10px;
  --font:"Inter", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
}

*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
  font-family:var(--font);
  background:var(--bg);
  color:var(--text);
  line-height:1.45;
  -webkit-font-smoothing:antialiased;
}
.nojs{color:#c00;text-align:center;margin:20px;}
.container{
  width:95%;max-width:1250px;margin:20px auto;
  background:var(--white);border-radius:var(--radius);
  box-shadow:var(--shadow);padding:20px 30px;
}

/* Header */
header h1{
  text-align:center;margin-bottom:12px;color:var(--primary);font-size:1.9rem;font-weight:600;
}
header p{
  text-align:center;color:var(--text-light);max-width:840px;margin:0 auto 18px;font-size:1.02rem;
}

/* Error box */
.error-box{
  background:#fdecea;color:#611a15;border:1px solid #f5c6cb;
  padding:10px;border-radius:6px;margin-bottom:12px;font-size:.9rem
}

/* Tabs */
.tabs{
  display:flex;flex-wrap:wrap;justify-content:center;margin-bottom:22px;gap:6px;
}
.tablink{
  background:#e8eef6;border:1px solid #b0c1d4;padding:10px 16px;cursor:pointer;
  font-size:15px;color:#2c3e50;border-radius:6px;display:flex;align-items:center;gap:6px;
  font-weight:500;user-select:none;transition:all .2s;
}
.tablink.active{background:var(--primary);color:var(--white);border-color:var(--primary)}
.tablink:hover{background:#d9e1ec}

/* Sections */
.tabcontent{display:none;margin-top:8px}
.tabcontent h2{margin-bottom:12px;color:var(--primary);font-size:1.3rem;font-weight:600}
.tabcontent p{margin-bottom:10px;font-size:.96rem}
.tip{background:#f9fbfe;border-left:4px solid var(--primary);padding:10px 12px;border-radius:6px;font-size:.9rem;color:#243447;margin-top:8px}

/* Intro */
.intro-box{
  background:var(--card);border-radius:8px;padding:18px 18px 12px 18px;border:1px solid #dfe6e9
}
.intro-box ul{margin-left:22px;list-style:disc;color:#243447;margin-bottom:10px}
.intro-box li{margin-bottom:5px}

/* Attributes */
.attributes-list{display:flex;flex-wrap:wrap;gap:20px;margin:20px 0}
.attribute-card{
  background:var(--card);border:1px solid #dfe6e9;border-radius:8px;padding:15px;
  display:flex;align-items:flex-start;width:calc(33.33% - 20px);position:relative;gap:15px
}
.attribute-icon{position:relative;font-size:24px;color:var(--primary);cursor:pointer;min-width:28px;text-align:center}
.tooltip{
  visibility:hidden;width:240px;background:#2c3e50;color:#fff;text-align:left;padding:10px;border-radius:6px;
  position:absolute;bottom:120%;left:50%;transform:translateX(-50%);opacity:0;transition:opacity .3s;z-index:10
}
.attribute-card:hover .tooltip,.attribute-card:focus-within .tooltip{visibility:visible;opacity:1}
.attribute-content h4{margin-bottom:6px;color:#243447;font-size:1.02em;font-weight:600}
.attribute-content p{color:var(--text-light);font-size:.94em;margin-bottom:4px}
.attribute-content small{color:#999;font-size:.82em}

/* Inputs */
.input-card{background:var(--card);border-radius:8px;padding:15px 18px 25px 18px;margin-bottom:20px;border:1px solid #dfe6e9}
.input-card h2{margin-bottom:5px;color:#243447}
.input-card p{margin-bottom:12px;color:#555;font-size:.93rem}
.input-cards{display:flex;flex-wrap:wrap;gap:20px}
.input-level-card{
  background:var(--white);border:1px solid var(--border);border-radius:8px;padding:15px;flex:1 1 300px;position:relative
}
.input-level-card h3{margin-bottom:10px;font-size:1.05em;color:#243447;font-weight:600;line-height:1.2}
.reference{font-size:.9em;color:#7f8c8d;margin-left:5px}
.input-level-card .options label{display:block;margin-bottom:6px;cursor:pointer;font-size:.95em}
.slider-option label{display:flex;align-items:center;gap:8px;margin-bottom:6px;font-weight:600;font-size:.95em}
.slider-option input[type=range]{width:100%}
.form-mini{display:flex;flex-wrap:wrap;gap:10px}
.form-mini label{font-size:.9em;color:#243447;display:flex;flex-direction:column;gap:3px}

/* Info buttons */
.info-container{position:relative;display:inline-block}
.info-button{background:none;border:none;padding:0;margin-left:4px;cursor:pointer}
.info-button i{color:var(--primary)}
.tooltip-text{
  visibility:hidden;width:260px;background:#2c3e50;color:#fff;text-align:left;padding:10px;border-radius:6px;
  position:absolute;top:120%;left:50%;transform:translateX(-50%);opacity:0;transition:opacity .3s;z-index:10
}
.info-container:hover .tooltip-text,.info-container:focus-within .tooltip-text{visibility:visible;opacity:1}

/* Warning */
.warning-box{
  margin-top:15px;background:#fff3cd;border:1px solid #ffeeba;color:#856404;padding:10px;border-radius:6px;font-size:.9em
}

/* Buttons */
.buttons-row{display:flex;flex-wrap:wrap;gap:10px;margin:15px 0}
.buttons-row button{
  background:var(--primary);color:var(--white);border:none;padding:10px 18px;border-radius:6px;cursor:pointer;
  transition:background-color .25s,transform .2s;font-size:1em;font-weight:500;box-shadow:0 2px 4px rgba(0,0,0,.08)
}
.buttons-row button:hover{background:var(--primary-dark);transform:translateY(-2px)}

/* Charts */
canvas{
  margin-top:10px;background:var(--white);border:1px solid #ccc;border-radius:6px;max-height:270px !important
}
.chart-grid{display:flex;flex-wrap:wrap;gap:20px;margin-top:20px}
.chart-box{
  flex:1 1 45%;padding:10px;background:#fafafa;border:1px solid #ccc;border-radius:6px;position:relative
}
.chart-box h3{text-align:center;margin-bottom:8px;color:#243447;font-size:1.05rem;font-weight:600}
.fixed-height{height:380px;overflow:hidden}

/* Cost cards */
.cost-cards{display:flex;flex-wrap:wrap;gap:20px;margin-top:15px}
.cost-card{
  background:var(--card);border:1px solid #ccc;border-radius:6px;padding:15px;width:calc(33.33% - 20px);position:relative
}
.cost-card h4{margin:0 0 8px 0;color:#243447;font-size:1em;font-weight:600}
.cost-card p{color:var(--text-light);font-size:.9em;margin:0}

/* Forms */
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:12px 0}
.form-item{display:flex;flex-direction:column}
.form-item label{font-weight:600;color:#243447;margin-bottom:5px}
.form-item input,.form-item select{
  padding:6px;border:1px solid var(--border);border-radius:4px;font-size:.95em;background:var(--white)
}

/* Details */
details summary{cursor:pointer;font-weight:600;color:#243447;margin:8px 0}
details p{margin-left:16px;font-size:.92rem;color:#555}

/* Table */
.table-container{overflow-x:auto}
#scenarioTable{
  width:100%;border-collapse:collapse;margin-top:15px;font-size:.88rem
}
#scenarioTable th,#scenarioTable td{
  border:1px solid var(--border);padding:8px;text-align:center;white-space:nowrap
}
#scenarioTable th{background:var(--primary);color:var(--white);font-weight:600}
#scenarioTable tr:nth-child(even){background:#f2f2f2}

/* Modal */
.modal{
  display:none;position:fixed;z-index:100;left:0;top:0;width:100%;height:100%;overflow:auto;
  background:rgba(0,0,0,.5)
}
.modal-content{
  background:var(--white);margin:7% auto;padding:20px;border:1px solid #888;width:90%;max-width:520px;
  border-radius:8px;position:relative;box-shadow:0 10px 25px rgba(0,0,0,.25)
}
.close-button{
  color:#aaa;position:absolute;top:10px;right:15px;font-size:28px;font-weight:bold;cursor:pointer
}
.close-button:hover{color:#000}

/* Footer */
footer{
  text-align:center;margin-top:20px;font-size:.9em;color:#7f8c8d;border-top:1px solid #ecf0f1;padding-top:20px
}

/* Responsive */
@media(max-width:992px){
  .attribute-card,.cost-card{width:calc(50% - 20px)}
}
@media(max-width:768px){
  .tabs{flex-direction:column}
  .tablink{width:100%;text-align:left;border-radius:0}
  .input-cards{flex-direction:column}
  .chart-box{flex:1 1 100%}
  .attributes-list,.cost-cards{flex-direction:column}
  .form-grid{grid-template-columns:1fr}
  header h1{font-size:1.6rem}
  header p{font-size:.95rem}
  .tablink{font-size:14px;padding:9px 14px}
}
